package nc.ui.xcgl.metalbalance;

import java.util.Map;

import nc.ui.trade.report.query.QueryDLG;
import nc.ui.xcgl.journalaccount.QueryClientDLG;
import nc.vo.sm.nodepower.OrgnizeTypeVO;
import nc.vo.zmpub.pub.report2.ZmReportBaseUI3;

/**
 * 金属平衡表
 * 
 * @author yangtao
 * @date 2014-4-21 下午03:33:03 2002AC021510
 */
public class RepClientUI extends ZmReportBaseUI3 {

	private static final long serialVersionUID = -553369634771906111L;
	private QueryClientDLG m_qryDlg;

	public RepClientUI() {
	}

	public String[] getSqls() throws Exception {
		return new String[] {
				ReportSql.getBusinessSql(getQuerySQL())
		};
	}
	
	@Override
	public void onQuery() {
	
		super.onQuery();
	}
	
	@Override
	public String _getModelCode() {
		return "2002AC021510";
	}
    
	@Override
	public void setUIAfterLoadTemplate() {

	}

	public void setQueryAfter() throws Exception {

	}
	
	public String getQuerySQL() throws Exception {
		StringBuffer sb=new StringBuffer();
		String whereSql=getQueryConditon();
		if(whereSql==null){whereSql="1=1";}
		sb.append(whereSql);
		sb.append("  GROUP BY xcgl_flouryield_b.pk_invmandoc,xcgl_flouryield_b.pk_invindex");
		sb.append(" ");
		sb.append(" order by xcgl_flouryield_b.pk_invmandoc ,xcgl_flouryield_b.pk_invindex ");
		return sb.toString();
	}

	/**
	 * 合计
	 */
	public void setTolal() throws Exception {
	}

	/**
	 * 要想初始时加载动态列 实现此方法
	 */
	@Override
	public Map getNewItems() throws Exception {
		return null;
	}

	@Override
	public void initReportUI() {

	}
	public QueryDLG getQueryDlg() {
		if (m_qryDlg == null) {
			m_qryDlg = new QueryClientDLG(this);
			m_qryDlg.setTempletID(_getCorpID(), _getModelCode(), _getUserID(),
					null, null,OrgnizeTypeVO.COMPANY_TYPE);
			m_qryDlg.setNormalShow(false);
		}
		return m_qryDlg;
	}
	

}
